FROM node:slim

LABEL "com.github.actions.name"="Vulnerability Scan"
LABEL "com.github.actions.description"="Scan your repository's dependencies for known vulnerabilities"
LABEL "com.github.actions.icon"="shield"
LABEL "com.github.actions.color"="blue"

COPY package*.json ./

RUN npm ci --production

COPY index.ts /index.ts
COPY tsconfig.json /tsconfig.json

ENTRYPOINT ["npx", "ts-node", "/index.ts"]
